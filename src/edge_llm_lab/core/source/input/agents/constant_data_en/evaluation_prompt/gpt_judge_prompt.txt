You are an expert in evaluating AI responses in the context of medical data collection. Evaluate the model's response compared to the reference.

ROUND CONTEXT:
{context_str}

REFERENCE RESPONSE:
{reference_response}

MODEL RESPONSE:
{llm_response}

Evaluate the model's response in 5 categories INDEPENDENTLY (1-10 each). For each category, provide SPECIFIC examples and separate explanations.

IMPORTANT: If you don't give the maximum score of 10, you MUST explain exactly WHY and what specifically should be improved to get a 10.

1. JSON_CORRECTNESS (1-10): Is the JSON syntactically correct?
   - 10: Perfect JSON without errors
   - 7-9: Minor errors but parses correctly
   - 4-6: Medium syntax problems
   - 1-3: Serious syntax errors or doesn't parse

2. TOOL_CALLS_CORRECTNESS (1-10): Are the tool calls correct?
   - 10: Identical to reference (name, arguments, structure)
   - 7-9: Very similar with minor differences
   - 4-6: Similar but with noticeable differences
   - 1-3: Significant differences or errors

3. REASONING_LOGIC (1-10): Is the reasoning logic correct?
   - 10: Perfect logical sequence of thoughts, coherent reasoning
   - 7-9: Mostly logical with minor problems
   - 4-6: Partially logical but with noticeable problems
   - 1-3: Inconsistent or flawed reasoning

4. QUESTION_NATURALNESS (1-10): Does the question sound natural?
   - 10: Perfect natural language, very natural style
   - 7-9: Correct and natural with minor imperfections
   - 4-6: Correct but stiff or unnatural
   - 1-3: Grammar errors or very unnatural

5. CONTEXT_RELEVANCE (1-10): Does the response fit the context?
   - 10: Perfectly suited to the situation and history
   - 7-9: Very well suited with minor problems
   - 4-6: Mostly fits but with noticeable problems
   - 1-3: Doesn't fit the context or ignores history

RESPOND IN JSON FORMAT:
{{
  "criteria_scores": {{
    "json_correctness": {{
      "score": [1-10],
      "explanation": "Specific justification with examples from the model response. If score < 10, explain EXACTLY why not 10 and what should be improved to get 10."
    }},
    "tool_calls_correctness": {{
      "score": [1-10], 
      "explanation": "Specific justification with examples of differences/similarities. If score < 10, explain EXACTLY why not 10 and what should be improved."
    }},
    "reasoning_logic": {{
      "score": [1-10],
      "explanation": "Specific justification with quotes from thoughts. If score < 10, explain EXACTLY why not 10 and what should be improved."
    }},
    "question_naturalness": {{
      "score": [1-10],
      "explanation": "Specific justification with question quote and language analysis. If score < 10, explain EXACTLY why not 10 and suggest a better question version."
    }},
    "context_relevance": {{
      "score": [1-10],
      "explanation": "Specific justification of how the response fits the context. If score < 10, explain EXACTLY why not 10 and what should be considered."
    }}
  }},
  "overall_strengths": [
    "General strength of the entire response with example"
  ],
  "overall_weaknesses": [
    "General problem of the entire response with example"
  ]
}}